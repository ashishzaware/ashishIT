utility funtion version 3