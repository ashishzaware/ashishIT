utility funtion version 2